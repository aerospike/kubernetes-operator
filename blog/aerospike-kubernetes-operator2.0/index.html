<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.13">
<link rel="alternate" type="application/rss+xml" href="/kubernetes-operator/blog/rss.xml" title="Aerospike Kubernetes Operator RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/kubernetes-operator/blog/atom.xml" title="Aerospike Kubernetes Operator Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Aerospike Kubernetes Operator" href="/kubernetes-operator/opensearch.xml"><title data-react-helmet="true">Aerospike Kubernetes Operator 2.0 | Aerospike Kubernetes Operator</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://aerospike.github.io//kubernetes-operator/blog/aerospike-kubernetes-operator2.0/"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Aerospike Kubernetes Operator 2.0 | Aerospike Kubernetes Operator"><meta data-react-helmet="true" name="description" content="We are excited to announce the availability of Aerospike Kubernetes Operator 2.0. Kubernetes is becoming an increasingly popular platform for the deployment of Aerospike, particularly within Dev/Ops flows. In the past two years with more staff remote, automation of provisioning, deployment, and management of infrastructure has become essential. Enterprises need to gain leverage in the application of their personnel and technical resources and infrastructure. The Aerospike Kubernetes Operator provides a solid base for automation when deploying and managing our database on Kubernetes platforms, both in the public cloud (AKS, EKS, and GKE) and on-premises."><meta data-react-helmet="true" property="og:description" content="We are excited to announce the availability of Aerospike Kubernetes Operator 2.0. Kubernetes is becoming an increasingly popular platform for the deployment of Aerospike, particularly within Dev/Ops flows. In the past two years with more staff remote, automation of provisioning, deployment, and management of infrastructure has become essential. Enterprises need to gain leverage in the application of their personnel and technical resources and infrastructure. The Aerospike Kubernetes Operator provides a solid base for automation when deploying and managing our database on Kubernetes platforms, both in the public cloud (AKS, EKS, and GKE) and on-premises."><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-12-28T00:00:00.000Z"><meta data-react-helmet="true" property="article:tag" content="aerospike,kubernetes,k8s,operator,cloud"><link data-react-helmet="true" rel="icon" href="/kubernetes-operator/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://aerospike.github.io//kubernetes-operator/blog/aerospike-kubernetes-operator2.0/"><link data-react-helmet="true" rel="alternate" href="https://aerospike.github.io//kubernetes-operator/blog/aerospike-kubernetes-operator2.0/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://aerospike.github.io//kubernetes-operator/blog/aerospike-kubernetes-operator2.0/" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/kubernetes-operator/assets/css/styles.973f2847.css">
<link rel="preload" href="/kubernetes-operator/assets/js/runtime~main.ccf7bbbd.js" as="script">
<link rel="preload" href="/kubernetes-operator/assets/js/main.53ddb12b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/kubernetes-operator/"><div class="navbar__logo"><img src="/kubernetes-operator/img/logo.png" alt="Aerospike Kubernetes Operator" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/kubernetes-operator/img/logo.png" alt="Aerospike Kubernetes Operator" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Aerospike Kubernetes Operator</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/kubernetes-operator/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link" href="/kubernetes-operator/">2.0.0</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kubernetes-operator/">2.0.0</a></li><li><a class="dropdown__link" href="/kubernetes-operator/1.x.x/">1.x.x</a></li></ul></div><a href="https://github.com/aerospike/aerospike-kubernetes-operator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="searchBox_1Kl_"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Aerospike Kubernetes Operator 2.0</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2021-12-28T00:00:00.000Z" itemprop="datePublished">December 28, 2021</time> · <!-- -->4 min read</div></header><div class="markdown" itemprop="articleBody"><p>We are excited to announce the availability of Aerospike Kubernetes Operator 2.0. Kubernetes is becoming an increasingly popular platform for the deployment of Aerospike, particularly within Dev/Ops flows. In the past two years with more staff remote, automation of provisioning, deployment, and management of infrastructure has become essential. Enterprises need to gain leverage in the application of their personnel and technical resources and infrastructure. The Aerospike Kubernetes Operator provides a solid base for automation when deploying and managing our database on Kubernetes platforms, both in the public cloud (AKS, EKS, and GKE) and on-premises.</p><p>In addition, our Operator provides for improved monitoring and alerting of events in the Aerospike Database. We accomplish this through the Prometheus Exporter Sidecar which can be added to the Aerospike server pods. Combining this with the control plane capabilities of Aerospike Kubernetes Operator 2.0 you have both deployment, observability, and management of Aerospike Database clusters on Kubernetes. There are a number of Grafana dashboards that are configured to work with our Prometheus feeds. Together this provides a sound basis for observability and management of Aerospike clusters on Kubernetes.</p><p>The Operator supports the following capabilities:</p><ul><li>Deploy Aerospike clusters</li><li>Scale up and down for existing Aerospike clusters</li><li>Version upgrade and downgrade</li><li>Configure persistent storage and resource allocation</li><li>Standardize and validate configurations</li><li>Cluster security management</li><li>Attach custom sidecars and init containers</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="new-capabilities"><strong>New Capabilities</strong><a aria-hidden="true" class="hash-link" href="#new-capabilities" title="Direct link to heading">​</a></h3><ul><li>Warm restart of pods for cluster changes, allowing for the restart of the Aerospike service without deleting pods.</li><li>Network and Load Balancing<ul><li>Support for LoadBalancer to discover Aerospike externally. The previous headless service allowed for discovery within the cluster. When configured, the Aerospike Kubernetes Operator 2.0 creates a single service for the Aerospike Cluster, with the type LoadBalancer.</li><li>Allow &quot;hostNetwork&quot; in the pod spec section enabling pods to use host networking. This requires the multiPodPerHost configuration to be false.</li><li>An additional &quot;dnsPolicy&quot; configuration added to the podSpec that defaults to ClusterFirstWithHostNet when host network is enabled and is set to ClusterFirst when host network is disabled.</li></ul></li><li>TLS<ul><li>Previously the operator mapped a single secret to all containers in a pod. You can now map secrets to each container within a pod.</li><li>Client certificates can be fed to the operator via files when the Custom Resource Definition AerospikeClientCertSource is set.</li></ul></li><li>Rack Awareness<ul><li>A common practice to support higher availability is to provision clusters to span multiple availability zones. The Aerospike Database supports this with a feature called Rack Awareness. In the new Aerospike Kubernetes Operator, the cluster can be distributed across racks whenever the cluster size is updated or the number of racks is changed. Scheduling policies such as affinity or anti-affinity can be set for each rack.</li></ul></li><li>Custom InitContainer support allows custom initialization of resources like volumes and security certificates.</li><li>Storage Volumes<ul><li>Prior to our 2.0 release, all storage volumes were mounted to all containers. We now provide for more fine-grained control.<ul><li>Allow storage volumes to accept storage volume source, e.g. empty dir, configmap, secret, pv.</li><li>Allow storage volumes to be attached to sidecars and/or init containers.</li></ul></li></ul></li><li>Pod Scheduling<ul><li>Control on Aerospike Pod Scheduling allows specifying affinity, anti-affinity, and tolerations for Aerospike Pods.</li><li>Allow rack-level overrides for scheduling policies.</li></ul></li><li>Install, manage and upgrade the Aerospike Kubernetes Operator 2.0 with Operator Lifecycle Manager (OLM)</li><li>Support for Aerospike Enterprise Server versions 5.6.x and 5.7.x</li><li>Support for Kubernetes 1.20, 1.21 and 1.22</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="breaking-changes"><strong>Breaking-changes</strong><a aria-hidden="true" class="hash-link" href="#breaking-changes" title="Direct link to heading">​</a></h3><p>The Aerospike Kubernetes Operator 2.0 represents a major step forward in providing a complete control plane for Kubernetes-based Aerospike clusters. As we added new control capabilities, APIs inevitably had to change, and hence version 2.0 is not compatible with version 1.x. The cluster spec has breaking changes to accommodate increased flexibility and broader coverage of deployment options:</p><ul><li>More storage types like secrets, config maps, and empty dirs</li><li>Selective attachment of storage to containers (including init containers)</li><li>More control over pod scheduling using affinity/anti-affinity rules and tolerations</li><li>Ability to specify labels and annotations to Aerospike pods and attached persistent volumes</li></ul><h3 class="anchor anchorWithStickyNavbar_31ik" id="redhat-openshift-container-platform-certification"><strong>RedHat OpenShift Container Platform Certification</strong><a aria-hidden="true" class="hash-link" href="#redhat-openshift-container-platform-certification" title="Direct link to heading">​</a></h3><p>The Aerospike Kubernetes Operator 2.0 is compatible with the RedHat OpenShift Container Platform and will be submitted for certification with this release and will be made available in the RedHat Ecosystem Catalog. The 2.0 version of our operator supports both Helm charts and OLM.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="documentation-is-available-here"><strong>Documentation is available here:</strong><a aria-hidden="true" class="hash-link" href="#documentation-is-available-here" title="Direct link to heading">​</a></h3><p><a href="https://aerospike.github.io/kubernetes-operator" target="_blank" rel="noopener noreferrer">https://aerospike.github.io/kubernetes-operator</a></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="see-our-product-page-here"><strong>See our product page here:</strong><a aria-hidden="true" class="hash-link" href="#see-our-product-page-here" title="Direct link to heading">​</a></h3><p><a href="https://aerospike.com/products/kubernetes-operator/" target="_blank" rel="noopener noreferrer">https://aerospike.com/products/kubernetes-operator/</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/kubernetes-operator/blog/tags/aerospike/">aerospike</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/kubernetes-operator/blog/tags/kubernetes/">kubernetes</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/kubernetes-operator/blog/tags/k-8-s/">k8s</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/kubernetes-operator/blog/tags/operator/">operator</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/kubernetes-operator/blog/tags/cloud/">cloud</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/aerospike/kubernetes-operator/edit/main/blog/blog/2021-12-28-operator-2.0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kubernetes-operator/blog/introducing-aerospike-kubernetes-operator/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Introducing Aerospike Kubernetes Operator<!-- --> »</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#new-capabilities" class="table-of-contents__link toc-highlight"><strong>New Capabilities</strong></a></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight"><strong>Breaking-changes</strong></a></li><li><a href="#redhat-openshift-container-platform-certification" class="table-of-contents__link toc-highlight"><strong>RedHat OpenShift Container Platform Certification</strong></a></li><li><a href="#documentation-is-available-here" class="table-of-contents__link toc-highlight"><strong>Documentation is available here:</strong></a></li><li><a href="#see-our-product-page-here" class="table-of-contents__link toc-highlight"><strong>See our product page here:</strong></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/aerospike" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/aerospikedb" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/kubernetes-operator/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/aerospike/aerospike-kubernetes-operator" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Aerospike</div></div></div></footer></div>
<script src="/kubernetes-operator/assets/js/runtime~main.ccf7bbbd.js"></script>
<script src="/kubernetes-operator/assets/js/main.53ddb12b.js"></script>
</body>
</html>